<!DOCTYPE html>
<html>
<head>
    <title>Vega Lite Bar Chart</title>
    <meta charset="utf-8">

    <script src="vega/vega.js"></script>
    <script src="vega/vega-core.js"></script>
    <!--<script src="https://cdn.jsdelivr.net/npm/vega-lite@2.3.1/build/vega-lite.js"></script>-->
    <!--<script src="https://cdn.jsdelivr.net/npm/vega-embed@3.2.0/build/vega-embed.js"></script>-->

    <style media="screen">
        /* Add space between Vega-Embed links  */
        .vega-actions a {
            margin-right: 5px;
        }
    </style>
</head>
<body>
<h1>Template for Embedding Vega-Lite Visualization</h1>
<!-- Container for the visualization -->
<div id="vis"></div>

<script>
    // Assign the specification to a local variable vlSpec.
    var vlSpec = {
        "$schema": "https://vega.github.io/schema/vega/v3.json",
        "width": 200,
        "height": 200,
        "autosize": "none",

        "signals": [
            {
                "name": "startAngle", "value": 0,
                "bind": {"input": "range", "min": 0, "max": 6.29, "step": 0.01}
            },
            {
                "name": "endAngle", "value": 6.29,
                "bind": {"input": "range", "min": 0, "max": 6.29, "step": 0.01}
            },
            {
                "name": "padAngle", "value": 0,
                "bind": {"input": "range", "min": 0, "max": 0.1}
            },
            {
                "name": "innerRadius", "value": 0,
                "bind": {"input": "range", "min": 0, "max": 90, "step": 1}
            },
            {
                "name": "cornerRadius", "value": 0,
                "bind": {"input": "range", "min": 0, "max": 10, "step": 0.5}
            },
            {
                "name": "sort", "value": false,
                "bind": {"input": "checkbox"}
            }
        ],

        "data": [
            {
                "name": "table",
                "values": [
                    {"id": 1, "field": 4},
                    {"id": 2, "field": 6},
                    {"id": 3, "field": 10},
                    {"id": 4, "field": 3},
                    {"id": 5, "field": 7},
                    {"id": 6, "field": 8}
                ],
                "transform": [
                    {
                        "type": "pie",
                        "field": "field",
                        "startAngle": {"signal": "startAngle"},
                        "endAngle": {"signal": "endAngle"},
                        "sort": {"signal": "sort"}
                    }
                ]
            }
        ],

        "scales": [
            {
                "name": "color",
                "type": "ordinal",
                "range": {"scheme": "category20"}
            }
        ],

        "marks": [
            {
                "type": "arc",
                "from": {"data": "table"},
                "encode": {
                    "enter": {
                        "fill": {"scale": "color", "field": "id"},
                        "x": {"signal": "width / 2"},
                        "y": {"signal": "height / 2"}
                    },
                    "update": {
                        "startAngle": {"field": "startAngle"},
                        "endAngle": {"field": "endAngle"},
                        "padAngle": {"signal": "padAngle"},
                        "innerRadius": {"signal": "innerRadius"},
                        "outerRadius": {"signal": "width / 2"},
                        "cornerRadius": {"signal": "cornerRadius"}
                    }
                }
            }
        ]
    };


    // Embed the visualization in the container with id `vis`
    vegaEmbed("#vis", vlSpec);
</script>
</body>
</html>
</html>